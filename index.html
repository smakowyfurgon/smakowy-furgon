<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Smakowy Furgon - Menu</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&family=Roboto&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg1: #fff8ec;
      --bg2: #f5f5dc;
      --accent: #264e36;
      --accent2: #d97706;
      --muted: #7a6b5a;
      --card: #fff;
    }
    body { 
      margin:0; 
      font-family:'Roboto',sans-serif; 
      background:linear-gradient(180deg,var(--bg1),var(--bg2)); 
      color:#222; 
    }
    h1,h2,h3 { font-family:'Poppins',sans-serif; }

    /* Powitalny ekran */
    .welcome {
      height:100vh; display:flex; flex-direction:column;
      justify-content:center; align-items:center; text-align:center;
      transition:opacity 1s ease;
    }
    .welcome h1 { color:var(--accent); font-size:28px; margin:10px 0; }
    .logo { max-width:40%; height:auto; }

    /* Loader */
    .loader {
      border: 4px solid #f3f3f3;
      border-top: 4px solid var(--accent);
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 20px auto;
    }
    @keyframes spin {
      0% { transform: rotate(0deg);}
      100% { transform: rotate(360deg);}
    }

    .container { max-width:960px; margin:0 auto; padding:18px; }

    /* Kategorie */
    .category { margin-top:20px; }
    .category h2 { color:var(--accent); border-bottom:2px solid var(--accent2); padding-bottom:5px; margin-bottom:15px; }
    .category { 
      display:grid; 
      grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); 
      gap:18px;
    }

    /* Karty da≈Ñ */
    .card {
      display:flex; flex-direction:column; 
      background:var(--card); padding:14px;
      border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.1);
      position:relative; transition:transform 0.3s, box-shadow 0.3s;
    }
    .card:hover { transform:translateY(-4px); box-shadow:0 6px 18px rgba(0,0,0,0.12); }
    .card img { width:100%; height:180px; object-fit:cover; border-radius:8px; margin-bottom:10px; }
    .dish-title { font-weight:700; color:var(--accent); font-size:18px; }
    .price { margin-top:8px; font-weight:700; color:var(--accent2); font-size:16px; }

    /* Wyprzedane */
    .sold-out { opacity:0.6; }
    .sold-out .reserve-btn { background:#999 !important; cursor:not-allowed; }

    .reserve-btn {
      margin-top:auto;
      background:var(--accent2); color:#fff;
      border:none; padding:10px 16px; border-radius:8px;
      cursor:pointer; font-weight:bold; transition:background 0.3s;
      text-align:center;
    }
    .reserve-btn:hover { background:#b45309; }

    /* Mapa i kontakt */
    .info-card {
      background:#fff; padding:16px; border-radius:12px; 
      box-shadow:0 2px 6px rgba(0,0,0,0.1); margin-top:30px;
    }
    .map {
      width:100%; height:200px; border-radius:8px; border:1px solid #ddd;
      display:block; margin-top:10px;
    }

    /* Stopka */
    footer {
      text-align:center; margin:30px 0; color:var(--muted); font-size:14px;
    }
    .socials a {
      display:inline-flex; justify-content:center; align-items:center;
      width:36px; height:36px; border-radius:50%;
      background:var(--accent); color:#fff; margin:0 6px; text-decoration:none;
      transition:background 0.3s;
    }
    .socials a:hover { background:var(--accent2); }
  </style>
</head>
<body>
  <!-- Powitalny ekran -->
  <div id="welcome" class="welcome">
    <img src="logo.png" alt="Smakowy Furgon logo" class="logo">
    <h1>Dziƒôkujemy, ≈ºe jeste≈õ z nami!</h1>
  </div>

  <!-- Strona g≈Ç√≥wna -->
  <div id="main" style="display:none;">
    <div class="container">
      <div id="menu-container"><div class="loader"></div></div>

      <!-- Mapa i kontakt -->
      <div class="info-card">
        <h3>Nasza lokalizacja</h3>
        <iframe class="map" 
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2467.642315640583!2d19.5739648!3d51.79442319999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x471bcd8f8c80d0e7%3A0xaa7dffac37f9604f!2sSMAKOWY%20FURGON!5e0!3m2!1spl!2spl!4v1757697121963!5m2!1spl!2spl" 
          allowfullscreen="" loading="lazy"></iframe>
        <a href="tel:+48882911372" class="reserve-btn" style="margin-top:15px; display:block;">üìû Zadzwo≈Ñ i zarezerwuj</a>
      </div>
    </div>

    <!-- Stopka -->
    <footer>
      <p>&copy; 2025 Smakowy Furgon</p>
      <div class="socials">
        <a href="https://www.facebook.com/people/Smakowy-Furgon/61576729784920/" target="_blank">f</a>
        <a href="https://www.tiktok.com/@smakowy_furgon" target="_blank">üéµ</a>
        <a href="mailto:smakowyf@gmail.com">‚úâÔ∏è</a>
      </div>
    </footer>
  </div>

  <!-- Skrypty -->
  <script>
    // Powitalny ekran
    setTimeout(() => {
      document.getElementById("welcome").style.opacity = "0";
      setTimeout(() => {
        document.getElementById("welcome").style.display = "none";
        document.getElementById("main").style.display = "block";
      }, 1000);
    }, 2000);

    async function loadMenu() {
      try {
        const res = await fetch("https://script.google.com/macros/s/AKfycbztMPj8aamherp82OBxqhPsDS5g5REm0Eonto1e4T9gUV8Q_1g8h_6MzSYHrmowBw4Z1A/exec");
        const data = await res.json();

        const grouped = {};
        data.forEach(item => {
          if (!grouped[item.Kategoria]) grouped[item.Kategoria] = [];
          grouped[item.Kategoria].push(item);
        });

        let html = "";
        for (const kat in grouped) {
          html += `<div><h2>${kat}</h2><div class="category">`;
          grouped[kat].forEach(item => {
            html += `
              <div class="card ${item.Status === 'Wyprzedane' ? 'sold-out' : ''}">
                <img src="${item.Obrazek}" alt="${item.Nazwa}">
                <div class="dish-title">${item.Nazwa}</div>
                <div style="font-size:14px; color:var(--muted)">${item.Opis}</div>
                <div style="margin-top:5px; font-size:13px; color:${item.Status === 'Wyprzedane' ? '#777' : 'green'}">${item.Status}</div>
                <div class="price">${item.Cena}</div>
                <a href="tel:+48882911372" class="reserve-btn" ${item.Status === 'Wyprzedane' ? 'style="pointer-events:none;"' : ''}>Zarezerwuj</a>
              </div>
            `;
          });
          html += `</div></div>`;
        }

        document.getElementById("menu-container").innerHTML = html;
      } catch (e) {
        document.getElementById("menu-container").innerHTML = "‚ùå Nie uda≈Ço siƒô wczytaƒá menu";
        console.error(e);
      }
    }
    loadMenu();
  </script>
</body>
</html>

